<nav class="app-navbar navbar navbar-expand-lg">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand app-brand" href="/">
      HireUs <i class="fa-brands fa-hire-a-helper ms-1"></i>
    </a>

    <!-- Mobile Toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#appNavbar"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links -->
    <div class="collapse navbar-collapse" id="appNavbar">
      <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-3">

        <!-- Common -->
        <li class="nav-item">
          <a class="nav-link app-link" href="/home">
            <i class="fa-solid fa-briefcase me-1"></i> Jobs
          </a>
        </li>

        <% if (!user) { %>
          <!-- Public Navbar -->
          <li class="nav-item">
            <a class="nav-link app-link" href="/login">
              <i class="fa-solid fa-right-to-bracket me-1"></i> Login
            </a>
          </li>

          <li class="nav-item">
            <a class="btn app-btn" href="/register">
              <i class="fa-solid fa-user-plus me-1"></i> Register
            </a>
          </li>
        <% } %>

        <% if (user && user.role === "candidate") { %>
          <!-- Candidate Navbar -->
          <li class="nav-item">
            <a class="nav-link app-link" href="/candidate/applications">
              <i class="fa-solid fa-file-lines me-1"></i> My Applications
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link app-link" href="/candidate/profile">
              <i class="fa-solid fa-user me-1"></i> Profile
            </a>
          </li>
        <% } %>

        <% if (user && user.role === "hr") { %>
          <!-- HR Navbar -->
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle app-link"
              href="#"
              role="button"
              data-bs-toggle="dropdown"
            >
              <i class="fa-solid fa-building me-1"></i> Recruiter
            </a>

            <ul class="dropdown-menu dropdown-menu-end shadow-sm">
              <li>
                <a class="dropdown-item" href="/home/create">
                  <i class="fa-solid fa-plus me-2"></i> Post a Job
                </a>
              </li>
            </ul>
          </li>
        <% } %>

        <!-- Search (Visible for logged-in users) -->
        <% if (user) { %>
          <li class="nav-item">
            <form class="nav-search">
              <i class="fa-solid fa-magnifying-glass"></i>
              <input type="search" placeholder="Search jobs..." />
            </form>
          </li>

          <!-- Logout -->
          <li class="nav-item">
            <a class="nav-link app-link text-danger" href="/login">
              <i class="fa-solid fa-right-from-bracket me-1"></i> Logout
            </a>
          </li>
        <% } %>

      </ul>
    </div>
  </div>
</nav>
